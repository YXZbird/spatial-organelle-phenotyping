# Figures directory

This directory contains all figures generated by the analysis notebooks.
Figures are grouped by notebook stage and are generated automatically
during execution of the pipeline.

---

## Naming convention

Figure filenames follow the pattern:

<notebook_id><figure_type><description>__<channel_info>.png


Where:
- `02_` indicates figures generated in Notebook 02 (feature extraction and QC)
- `03_` indicates figures generated in Notebook 03 (machine learning analysis)

---

## Figures from Notebook 02: QC and feature extraction

### QC figures

- `02_qc_cells_plus_nuclei__*.png`  
  Overlay of cell boundaries, nuclear boundaries, and mono-/multi-nuclear
  labels on RGB previews of image tiles.

- `02_qc_panel__*.png`  
  Three-panel QC figures showing:
  - RGB image with segmentation overlays
  - Normalized intensity of LysosomeA
  - Normalized intensity of LysosomeB

**Purpose**
- Qualitative validation of segmentation accuracy.
- Verification of nucleus-to-cell assignment.
- Inspection of spatial signal patterns prior to feature extraction.

---

### Descriptive statistics

- `02_bar_cell_class_by_group__*.png`  
  Bar plot showing counts of mono- vs multi-nuclear cells per experimental group.

- `02_boxplot_perinuclear_fraction_*__group__*.png`  
  Boxplots of perinuclear enrichment metrics stratified by group and cell class.

- `02_hist_*__*.png`  
  Histograms summarizing distributions of selected spatial features.

- `02_scatter_mean_radius__group__*.png`  
  Scatter plots comparing mean normalized radial positions between channels.

**Purpose**
- Exploratory visualization of spatial feature distributions.
- No inferential statistics or hypothesis testing are implied.

---

## Figures from Notebook 03: Exploratory machine learning analysis

### Classification performance

- `03_confusion_group_prediction__treated_vs_untreated.png`  
  Confusion matrix summarizing out-of-fold predictions of experimental group
  (treated vs untreated) using stratified group cross-validation.

**Notes**
- Predictions are generated under strict tile-level separation.
- Performance reflects discriminability of the current feature set and sample size.

---

### Feature importance

- `03_rf_importance_gini__treated_vs_untreated.png`  
  Random Forest feature importance based on Gini impurity.

- `03_rf_importance_permutation__treated_vs_untreated.png`  
  Permutation-based feature importance averaged across cross-validation folds.

**Purpose**
- Identify spatial features contributing most strongly to group discrimination.
- Feature importance is interpreted qualitatively.

---

### Low-dimensional embeddings

- `03_umap_true_group.png`  
  UMAP projection of cell-level features colored by true experimental group.

- `03_umap_cv_predicted.png`  
  UMAP projection colored by cross-validated predicted group labels.

**Notes**
- UMAP is used for visualization only.
- Spatial proximity in embedding space does not imply clustering or separability.

---

## Scope and interpretation

- All figures are generated automatically by the pipeline.
- Figures are intended for quality control, exploratory analysis,
  and interpretative support.
- No figure in this directory constitutes a standalone predictive result.

---

## Reproducibility

- Figures are reproducible given identical input data and parameters.
- Randomness in machine learning analyses is controlled by fixed random seeds.

